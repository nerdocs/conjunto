{% load i18n %}
{# params: menu, breakpoint, class , hide_username#}

<div class="navbar-nav flex-row{% if include.class %} {{ include.class }}{% endif %}">

  {% if not include.condensed %}
    <div class="nav-item d-none d-{{ breakpoint }}-flex me-3">
      <div class="btn-list">
        {% include ui/button.html icon="brand-github" outline=true text="Source code" href=site.github-url
        external=true %}
        {% include ui/button.html icon="heart" icon-color="pink" outline=true text="Sponsor"
        href=site.github-sponsors-url external=true %}
      </div>
    </div>
  {% endif %}

  <div class="d-none d-{{ include.breakpoint }}-flex">
    <a href="?theme=dark" class="nav-link px-0 hide-theme-dark" title="{% translate "Enable dark mode" %}" data-bs-toggle="tooltip"
       data-bs-placement="bottom">
      <i class="ti ti-moon"></i>
    </a>

    <a href="?theme=light" class="nav-link px-0 hide-theme-light" title="{% translate "Enable light mode" %}" data-bs-toggle="tooltip"
       data-bs-placement="bottom">
      <i class="ti ti-sun"></i>
    </a>

{#    TODO: enable notifications here?#}
{#    <div class="nav-item dropdown d-none d-md-flex me-3">#}
{#      <a href="#" class="nav-link px-0" data-bs-toggle="dropdown" tabindex="-1" aria-label="Show notifications">#}
{#        <i class="ti ti-bell"></i>#}
{#        <span class="badge bg-red"></span>#}
{#      </a>#}
{#      <div class="dropdown-menu dropdown-menu-arrow dropdown-menu-end dropdown-menu-card">#}
{#        {% include cards/navbar-notifications.html %}#}
{#      </div>#}
{#    </div>#}
  </div>

  <div class="nav-item dropdown">
    <a href="#" class="nav-link d-flex lh-1 text-reset p-0" data-bs-toggle="dropdown" aria-label="Open user menu">
      {# {% include "tabler/ui/avatar.html" person-id=person-id size="sm" %}#}{# FIXME: remove demo items#}

      {% if not hide_username %}
        <div class="d-none d-xl-block ps-2">
          <div>{{ user }}</div>
          <div class="mt-1 small text-secondary">{{ person.job_title }}</div>{# FIXME: remove demo items#}
        </div>
      {% endif %}
    </a>
    <div class="dropdown-menu dropdown-menu-end dropdown-menu-arrow"{% if include.dark %} data-bs-theme="light"{% endif %}>
      {% for item in menu %}
        {# TODO: <div class="dropdown-divider"></div>#}

        <a href="{{ item.url }}" class="dropdown-item">{{ item.title }}</a>

      {% endfor %}

      {# FIXME: remove demo items#}
      <a href="{{ site.base }}/settings.html" class="dropdown-item">Settings</a>
      <a href="{{ site.base }}/sign-in.html" class="dropdown-item">Logout</a>
    </div>
  </div>
</div>